# Local Development Setup Guide

This guide will help you set up the Personal Portfolio Website project on your local machine.

## Prerequisites

Before you begin, ensure you have the following installed:

1. **Node.js** (version 18 or higher)
   - Download from [nodejs.org](https://nodejs.org/)
   - Verify installation: `node --version` and `npm --version`

2. **PostgreSQL** (version 14 or higher)
   - **Option A - Local PostgreSQL:**
     - Windows: Download from [postgresql.org](https://www.postgresql.org/downloads/windows/)
     - macOS: Use Homebrew: `brew install postgresql`
     - Linux: `sudo apt-get install postgresql postgresql-contrib`
   
   - **Option B - Docker PostgreSQL (Recommended):**
     ```bash
     docker run --name portfolio-db -e POSTGRES_PASSWORD=your_password -e POSTGRES_DB=portfolio -p 5432:5432 -d postgres:14
     ```

3. **Git**
   - Download from [git-scm.com](https://git-scm.com/)

## Step-by-Step Setup

### 1. Clone/Download the Project

If you have the project files, place them in a directory. If you're downloading from Replit:

1. Download all project files
2. Extract to a folder like `portfolio-website`
3. Open terminal/command prompt in that folder

### 2. Install Dependencies

```bash
# Install all project dependencies
npm install
```

### 3. Database Setup

#### Option A: Local PostgreSQL Setup

1. **Start PostgreSQL service:**
   - Windows: Start via Services or pgAdmin
   - macOS: `brew services start postgresql`
   - Linux: `sudo systemctl start postgresql`

2. **Create database and user:**
   ```sql
   -- Connect to PostgreSQL as superuser
   psql -U postgres

   -- Create database
   CREATE DATABASE portfolio;

   -- Create user (optional, you can use postgres user)
   CREATE USER portfolio_user WITH PASSWORD 'your_password';
   GRANT ALL PRIVILEGES ON DATABASE portfolio TO portfolio_user;

   -- Exit
   \q
   ```

#### Option B: Docker PostgreSQL (Recommended)

```bash
# Start PostgreSQL container
docker run --name portfolio-db \
  -e POSTGRES_PASSWORD=your_password \
  -e POSTGRES_DB=portfolio \
  -p 5432:5432 \
  -d postgres:14

# Verify container is running
docker ps
```

### 4. Environment Configuration

Create a `.env` file in the project root:

```env
# Database Configuration
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/portfolio

# Individual database connection variables (auto-generated by some tools)
PGUSER=postgres
PGPASSWORD=your_password
PGDATABASE=portfolio
PGHOST=localhost
PGPORT=5432

# Session Secret (generate a random string)
SESSION_SECRET=your-super-secret-session-key-here-make-it-long-and-random

# Node Environment
NODE_ENV=development
```

**Important:** Replace `your_password` with your actual PostgreSQL password.

### 5. Database Schema Setup

Run the database migration to create all tables:

```bash
# Push database schema to PostgreSQL
npm run db:push
```

This command will create all necessary tables:
- contacts
- users  
- projects
- tech_stack
- blog_posts
- admins
- admin_sessions
- sessions

### 6. Seed Initial Data (Optional)

If you want to populate the database with sample data:

```bash
# Run the seed script
npm run seed
```

This will create sample projects, tech stack items, and the default admin user.

### 7. Create Default Admin User

Start the development server and create the admin user:

```bash
# Start the development server
npm run dev
```

In another terminal, create the default admin:

```bash
# Create default admin user
curl -X POST http://localhost:5000/api/admin/create-default
```

**Admin Credentials:**
- Username: `admin`
- Password: `password`

### 8. Verify Setup

1. **Frontend:** Open [http://localhost:5000](http://localhost:5000)
   - You should see the portfolio homepage
   - All sections should load properly

2. **Admin Panel:** Go to [http://localhost:5000/admin/login](http://localhost:5000/admin/login)
   - Login with: username `admin`, password `password`
   - You should access the admin dashboard

3. **Blog:** Visit [http://localhost:5000/blog](http://localhost:5000/blog)
   - Should show blog posts if any exist

## Available Scripts

```bash
# Development server with hot reload
npm run dev

# Build for production
npm run build

# Database operations
npm run db:push        # Apply schema changes
npm run db:studio      # Open Drizzle Studio (database GUI)

# Seed sample data
npm run seed
```

## Project Structure

```
portfolio-website/
├── client/                 # React frontend
│   ├── src/
│   │   ├── components/     # UI components
│   │   ├── pages/         # Page components
│   │   ├── hooks/         # Custom React hooks
│   │   └── lib/           # Utilities
├── server/                # Express backend
│   ├── index.ts          # Server entry point
│   ├── routes.ts         # API routes
│   ├── storage.ts        # Database operations
│   └── db.ts             # Database connection
├── shared/               # Shared types and schemas
│   └── schema.ts         # Database schema
├── package.json
└── .env                  # Environment variables
```

## Troubleshooting

### Common Issues

1. **Port 5000 already in use:**
   ```bash
   # Kill process using port 5000
   npx kill-port 5000
   # Or change port in server/index.ts
   ```

2. **Database connection failed:**
   - Verify PostgreSQL is running
   - Check DATABASE_URL in .env file
   - Ensure database exists

3. **Permission errors:**
   ```bash
   # Fix npm permissions (macOS/Linux)
   sudo chown -R $(whoami) ~/.npm
   ```

4. **Module not found errors:**
   ```bash
   # Clear node_modules and reinstall
   rm -rf node_modules package-lock.json
   npm install
   ```

### Environment-Specific Notes

**Windows:**
- Use PowerShell or Command Prompt
- PostgreSQL might require Windows authentication
- Use `npx kill-port 5000` if port issues occur

**macOS:**
- Use Terminal
- Homebrew is recommended for PostgreSQL
- May need to add PostgreSQL to PATH

**Linux:**
- Use terminal
- May need `sudo` for PostgreSQL operations
- Check firewall settings if connection issues occur

## Development Workflow

1. **Start development:**
   ```bash
   npm run dev
   ```

2. **Make changes:**
   - Frontend changes auto-reload via Vite HMR
   - Backend changes auto-restart via tsx

3. **Database changes:**
   ```bash
   # After modifying shared/schema.ts
   npm run db:push
   ```

4. **Admin access:**
   - Login at `/admin/login`
   - Manage projects and tech stack
   - View dashboard statistics

## Features Available

- **Portfolio Homepage:** Responsive design with dark/light theme
- **Project Showcase:** Dynamic project listing with filtering
- **Technology Stack:** Interactive tech skills display
- **Blog System:** Full CRUD blog with individual post pages
- **Contact Form:** Working contact form with database storage
- **Admin Panel:** Secure admin authentication and content management
- **Database Integration:** PostgreSQL with Drizzle ORM

## Next Steps

Once everything is running:

1. Customize the portfolio content via admin panel
2. Add your own projects and technologies
3. Write blog posts
4. Modify styling in `client/src/index.css`
5. Update personal information in components

For any issues, check the console logs and ensure all services are running correctly.